# 🏓 CourtLink 场地预约系统 - 使用说明

## 📋 系统概述

CourtLink 是一个专业的场地预约管理系统，支持羽毛球、乒乓球等多种运动场地的在线预约。系统采用前后端分离架构，提供用户端和管理端两个界面。

### 🎯 主要功能

#### 用户端功能
- **场地预约**：查看可用时间段，选择预约
- **支付结算**：支持微信、支付宝、银行卡支付
- **预约管理**：查看预约记录，取消预约
- **个人中心**：管理个人信息，查看消费记录

#### 管理端功能
- **场地管理**：添加、编辑、删除场地
- **时间段管理**：批量开放/关闭时间段
- **预约管理**：查看所有预约，处理预约
- **用户管理**：管理用户账户，查看用户信息
- **数据统计**：查看预约统计，收入分析

---

## 🚀 快速开始

### 1. 系统要求

- **操作系统**：Windows 7 及以上版本
- **Java 环境**：Java 8 或以上版本
- **Node.js 环境**：Node.js 14 或以上版本
- **内存要求**：至少 4GB RAM
- **硬盘空间**：至少 2GB 可用空间

### 2. 安装步骤

1. **下载系统**：获取完整的项目文件包
2. **解压文件**：解压到任意目录（建议：`D:\CourtLink\`）
3. **运行安装**：双击 `桌面安装.bat` 进行安装
4. **启动系统**：双击桌面快捷方式启动

### 3. 首次使用

1. **启动系统**：双击桌面"CourtLink 场地预约系统"图标
2. **等待加载**：系统会自动检查环境并启动服务
3. **访问系统**：浏览器会自动打开系统首页
4. **登录账户**：使用默认账户登录（见下方账户信息）

---

## 🔑 默认账户信息

### 普通用户账户
- **用户名**：`testuser` | **密码**：`test123`
- **用户名**：`testbooking` | **密码**：`test123`
- **用户名**：`qwert` | **密码**：`test123`

### 管理员账户
- **用户名**：`admin` | **密码**：`admin123`

> ⚠️ **安全提醒**：首次使用后请立即修改默认密码！

---

## 🌐 系统访问地址

### 用户端
- **主页**：http://localhost:3007/
- **登录**：http://localhost:3007/login
- **预约**：http://localhost:3007/booking

### 管理端
- **管理登录**：http://localhost:3007/admin
- **管理面板**：http://localhost:3007/admin/dashboard

### 系统监控
- **健康检查**：http://localhost:8080/actuator/health
- **后端API**：http://localhost:8080/api/v1/

---

## 📱 功能使用指南

### 场地预约流程

1. **用户登录**
   - 访问登录页面
   - 输入用户名和密码
   - 点击登录

2. **选择场地**
   - 进入预约页面
   - 选择运动类型
   - 选择预约日期
   - 查看可用时间段

3. **确认预约**
   - 选择心仪的时间段
   - 确认预约信息
   - 进入支付页面

4. **完成支付**
   - 选择支付方式
   - 阅读并同意使用须知
   - 完成支付确认

### 管理员操作

1. **场地管理**
   - 登录管理后台
   - 进入场地管理页面
   - 添加/编辑/删除场地

2. **时间段管理**
   - 进入时间段管理
   - 批量开放时间段
   - 设置特殊时间段

3. **预约管理**
   - 查看所有预约
   - 处理预约申请
   - 生成预约报表

---

## 🔧 系统管理

### 启动系统

#### 方式一：桌面快捷方式
1. 双击桌面"CourtLink 场地预约系统"图标
2. 等待系统自动启动
3. 浏览器自动打开访问地址

#### 方式二：手动启动
1. 进入项目目录
2. 运行 `CourtLink-启动器.bat`
3. 按提示操作

### 关闭系统

#### 方式一：使用关闭脚本
1. 双击 `关闭系统.bat`
2. 等待自动关闭完成

#### 方式二：手动关闭
1. 关闭浏览器
2. 在CMD窗口中按 `Ctrl+C`
3. 选择 `Y` 确认关闭

### 重启系统

如果系统出现异常，可以：
1. 运行 `关闭系统.bat` 完全关闭
2. 等待30秒
3. 双击桌面快捷方式重新启动

---

## 🛠️ 故障排除

### 常见问题及解决方案

#### 1. 系统无法启动

**问题**：点击启动器后没有响应
**解决方案**：
- 检查Java环境：`java -version`
- 检查Node.js环境：`node --version`
- 确认项目文件完整
- 以管理员身份运行启动器

#### 2. 后端服务启动失败

**问题**：出现数据库锁定错误
**解决方案**：
```bash
# 查找Java进程
tasklist | findstr java

# 强制终止Java进程
taskkill /f /im java.exe

# 删除数据库锁定文件
del data\*.db.lock
```

#### 3. 前端服务启动失败

**问题**：端口被占用
**解决方案**：
- 关闭占用端口的程序
- 或者等待Vite自动选择新端口
- 检查防火墙设置

#### 4. 浏览器无法访问

**问题**：页面无法打开
**解决方案**：
- 检查服务是否正常启动
- 尝试访问 http://localhost:3007/
- 清除浏览器缓存
- 尝试使用其他浏览器

#### 5. 数据库相关问题

**问题**：数据丢失或损坏
**解决方案**：
- 数据库文件位于 `data/courtlink.mv.db`
- 备份数据库文件
- 删除损坏的数据库让系统重新初始化

---

## 📊 系统配置

### 端口配置

- **后端端口**：8080（可在 `application.yml` 中修改）
- **前端端口**：3007+（由Vite自动分配）

### 数据库配置

- **数据库类型**：H2（内嵌数据库）
- **数据库文件**：`data/courtlink.mv.db`
- **控制台访问**：http://localhost:8080/h2-console

### 日志配置

- **日志文件**：`logs/courtlink.log`
- **日志级别**：INFO（可在配置文件中修改）

---

## 🔄 系统维护

### 数据备份

#### 自动备份
- 系统会自动创建数据库快照
- 备份文件位于 `data/` 目录

#### 手动备份
```bash
# 复制数据库文件
copy data\courtlink.mv.db backup\courtlink_backup_%date%.mv.db

# 复制配置文件
copy src\main\resources\application.yml backup\
```

### 日志管理

#### 查看日志
```bash
# 查看最新日志
tail -f logs/courtlink.log

# 查看错误日志
findstr "ERROR" logs/courtlink.log
```

#### 清理日志
```bash
# 删除旧日志文件
del logs\*.log.gz

# 保留最近30天的日志
forfiles /p logs /s /m *.log /d -30 /c "cmd /c del @path"
```

### 系统更新

1. **备份数据**：备份数据库和配置文件
2. **下载新版本**：获取最新的系统文件
3. **停止服务**：运行 `关闭系统.bat`
4. **替换文件**：替换系统文件（保留数据库）
5. **启动系统**：运行启动器测试

---

## 🆘 技术支持

### 联系方式

- **技术支持**：通过项目仓库提交Issue
- **使用帮助**：查看项目文档
- **bug报告**：详细描述问题现象和复现步骤

### 系统信息

- **系统版本**：v1.0.0
- **框架版本**：Spring Boot 3.2.1, Vue.js 3.x
- **数据库版本**：H2 Database 2.2.224
- **构建工具**：Maven 3.x, Vite 4.x

---

## 📄 许可证

本系统仅供学习和研究使用。商业使用请联系开发者获取授权。

---

## 🎉 感谢使用

感谢您选择 CourtLink 场地预约系统！如果您在使用过程中遇到任何问题，欢迎反馈。我们致力于为用户提供最优质的服务体验。

---

*最后更新：2024年7月* 
